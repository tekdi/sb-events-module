/**
 * @fileoverview added by tsickle
 * Generated from: lib/dynamic-textarea/dynamic-textarea.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { FormControl } from '@angular/forms';
import { FieldConfigValidationType } from '../common-form-config';
import { map, startWith } from 'rxjs/operators';
export class DynamicTextareaComponent {
    constructor() {
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        /** @type {?} */
        const maxLengthValidation = this.field.validations &&
            this.field.validations.find((/**
             * @param {?} validation
             * @return {?}
             */
            (validation) => validation.type === FieldConfigValidationType.MAXLENGTH));
        if (maxLengthValidation) {
            this.remainderValidLength$ = this.formControlRef.valueChanges.pipe(startWith(''), map((/**
             * @param {?} v
             * @return {?}
             */
            (v) => ((typeof maxLengthValidation.value === 'number') ? maxLengthValidation.value : 0) - (v || '').length)));
        }
    }
}
DynamicTextareaComponent.decorators = [
    { type: Component, args: [{
                selector: 'sb-dynamic-textarea',
                template: "<div class=\"sb-textarea-container\">\n  <label>{{label}}</label>\n  <textarea class=\"sb-textarea\" [formControl]=\"formControlRef\" rows=\"5\" name=\"sb-textarea\" placeholder={{placeholder}} [attr.disabled]=\"disabled ? true : null\">\n  </textarea>\n  <div class=\"remaining-length\" *ngIf=\"remainderValidLength$\">\n     {{remainderValidLength$ | async}} Characters left\n  </div>\n  <ng-container *ngFor=\"let validation of validations\">\n    <div class=\"cf-error\"\n      *ngIf=\"(validation.type && (validation.type).toLowerCase() && validation.message && formControlRef.errors && formControlRef.errors[(validation.type).toLowerCase()] && (formControlRef.dirty || formControlRef.touched))\">\n      {{ validation.message }}\n    </div>\n  </ng-container>\n</div>\n",
                styles: ["label{display:block;padding:8px 0 0;font-size:14px}.sb-textarea{width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:.25rem;resize:vertical}.sb-textarea-container{margin-bottom:10px;position:relative}.remaining-length{position:absolute;bottom:.5rem;right:1rem;font-size:10px;color:#999}::-webkit-input-placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}::-moz-placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}:-ms-input-placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}::-ms-input-placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}::placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}.cf-error{color:red;font-family:\"Noto Sans\";font-size:12px}"]
            }] }
];
/** @nocollapse */
DynamicTextareaComponent.ctorParameters = () => [];
DynamicTextareaComponent.propDecorators = {
    label: [{ type: Input }],
    placeholder: [{ type: Input }],
    formControlRef: [{ type: Input }],
    field: [{ type: Input }],
    validations: [{ type: Input }],
    default: [{ type: Input }],
    disabled: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    DynamicTextareaComponent.prototype.label;
    /** @type {?} */
    DynamicTextareaComponent.prototype.placeholder;
    /** @type {?} */
    DynamicTextareaComponent.prototype.formControlRef;
    /** @type {?} */
    DynamicTextareaComponent.prototype.field;
    /** @type {?} */
    DynamicTextareaComponent.prototype.validations;
    /** @type {?} */
    DynamicTextareaComponent.prototype.default;
    /** @type {?} */
    DynamicTextareaComponent.prototype.disabled;
    /** @type {?} */
    DynamicTextareaComponent.prototype.remainderValidLength$;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy10ZXh0YXJlYS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9jb21tb24tZm9ybS1lbGVtZW50cy8iLCJzb3VyY2VzIjpbImxpYi9keW5hbWljLXRleHRhcmVhL2R5bmFtaWMtdGV4dGFyZWEuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxLQUFLLEVBQVMsTUFBTSxlQUFlLENBQUM7QUFDdkQsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBQzNDLE9BQU8sRUFBYyx5QkFBeUIsRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBRTdFLE9BQU8sRUFBQyxHQUFHLEVBQUUsU0FBUyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFPOUMsTUFBTSxPQUFPLHdCQUF3QjtJQVluQztJQUNBLENBQUM7Ozs7SUFFRCxRQUFROztjQUNBLG1CQUFtQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVztZQUNsRCxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJOzs7O1lBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEtBQUsseUJBQXlCLENBQUMsU0FBUyxFQUFDO1FBRXBHLElBQUksbUJBQW1CLEVBQUU7WUFDdkIsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLElBQUksQ0FDaEUsU0FBUyxDQUFDLEVBQUUsQ0FBQyxFQUNiLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sbUJBQW1CLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBQyxDQUNqSCxDQUFDO1NBQ0g7SUFDSCxDQUFDOzs7WUE5QkYsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxxQkFBcUI7Z0JBQy9CLG14QkFBZ0Q7O2FBRWpEOzs7OztvQkFHRSxLQUFLOzBCQUNMLEtBQUs7NkJBQ0wsS0FBSztvQkFDTCxLQUFLOzBCQUNMLEtBQUs7c0JBQ0wsS0FBSzt1QkFDTCxLQUFLOzs7O0lBTk4seUNBQXVCOztJQUN2QiwrQ0FBNkI7O0lBQzdCLGtEQUFxQzs7SUFDckMseUNBQW9DOztJQUNwQywrQ0FBMkI7O0lBQzNCLDJDQUF5Qjs7SUFDekIsNENBQTJCOztJQUUzQix5REFBMkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudCwgSW5wdXQsIE9uSW5pdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Zvcm1Db250cm9sfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0ZpZWxkQ29uZmlnLCBGaWVsZENvbmZpZ1ZhbGlkYXRpb25UeXBlfSBmcm9tICcuLi9jb21tb24tZm9ybS1jb25maWcnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcbmltcG9ydCB7bWFwLCBzdGFydFdpdGh9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc2ItZHluYW1pYy10ZXh0YXJlYScsXG4gIHRlbXBsYXRlVXJsOiAnLi9keW5hbWljLXRleHRhcmVhLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vZHluYW1pYy10ZXh0YXJlYS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgRHluYW1pY1RleHRhcmVhQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoKSBsYWJlbDogU3RyaW5nO1xuICBASW5wdXQoKSBwbGFjZWhvbGRlcjogU3RyaW5nO1xuICBASW5wdXQoKSBmb3JtQ29udHJvbFJlZjogRm9ybUNvbnRyb2w7XG4gIEBJbnB1dCgpIGZpZWxkOiBGaWVsZENvbmZpZzxTdHJpbmc+O1xuICBASW5wdXQoKSB2YWxpZGF0aW9ucz86IGFueTtcbiAgQElucHV0KCkgZGVmYXVsdDogU3RyaW5nO1xuICBASW5wdXQoKSBkaXNhYmxlZDogQm9vbGVhbjtcblxuICByZW1haW5kZXJWYWxpZExlbmd0aCQ/OiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBjb25zdCBtYXhMZW5ndGhWYWxpZGF0aW9uID0gdGhpcy5maWVsZC52YWxpZGF0aW9ucyAmJlxuICAgIHRoaXMuZmllbGQudmFsaWRhdGlvbnMuZmluZCgodmFsaWRhdGlvbikgPT4gdmFsaWRhdGlvbi50eXBlID09PSBGaWVsZENvbmZpZ1ZhbGlkYXRpb25UeXBlLk1BWExFTkdUSCk7XG5cbiAgICBpZiAobWF4TGVuZ3RoVmFsaWRhdGlvbikge1xuICAgICAgdGhpcy5yZW1haW5kZXJWYWxpZExlbmd0aCQgPSB0aGlzLmZvcm1Db250cm9sUmVmLnZhbHVlQ2hhbmdlcy5waXBlKFxuICAgICAgICBzdGFydFdpdGgoJycpLFxuICAgICAgICBtYXAoKHYpID0+ICgodHlwZW9mIG1heExlbmd0aFZhbGlkYXRpb24udmFsdWUgPT09ICdudW1iZXInKSA/IG1heExlbmd0aFZhbGlkYXRpb24udmFsdWUgOiAwKSAtICh2IHx8ICcnKS5sZW5ndGgpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG59XG4iXX0=