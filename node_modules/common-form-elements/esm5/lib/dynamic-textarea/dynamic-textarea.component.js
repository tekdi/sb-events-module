/**
 * @fileoverview added by tsickle
 * Generated from: lib/dynamic-textarea/dynamic-textarea.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { FormControl } from '@angular/forms';
import { FieldConfigValidationType } from '../common-form-config';
import { map, startWith } from 'rxjs/operators';
var DynamicTextareaComponent = /** @class */ (function () {
    function DynamicTextareaComponent() {
    }
    /**
     * @return {?}
     */
    DynamicTextareaComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var maxLengthValidation = this.field.validations &&
            this.field.validations.find((/**
             * @param {?} validation
             * @return {?}
             */
            function (validation) { return validation.type === FieldConfigValidationType.MAXLENGTH; }));
        if (maxLengthValidation) {
            this.remainderValidLength$ = this.formControlRef.valueChanges.pipe(startWith(''), map((/**
             * @param {?} v
             * @return {?}
             */
            function (v) { return ((typeof maxLengthValidation.value === 'number') ? maxLengthValidation.value : 0) - (v || '').length; })));
        }
    };
    DynamicTextareaComponent.decorators = [
        { type: Component, args: [{
                    selector: 'sb-dynamic-textarea',
                    template: "<div class=\"sb-textarea-container\">\n  <label>{{label}}</label>\n  <textarea class=\"sb-textarea\" [formControl]=\"formControlRef\" rows=\"5\" name=\"sb-textarea\" placeholder={{placeholder}} [attr.disabled]=\"disabled ? true : null\">\n  </textarea>\n  <div class=\"remaining-length\" *ngIf=\"remainderValidLength$\">\n     {{remainderValidLength$ | async}} Characters left\n  </div>\n  <ng-container *ngFor=\"let validation of validations\">\n    <div class=\"cf-error\"\n      *ngIf=\"(validation.type && (validation.type).toLowerCase() && validation.message && formControlRef.errors && formControlRef.errors[(validation.type).toLowerCase()] && (formControlRef.dirty || formControlRef.touched))\">\n      {{ validation.message }}\n    </div>\n  </ng-container>\n</div>\n",
                    styles: ["label{display:block;padding:8px 0 0;font-size:14px}.sb-textarea{width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:.25rem;resize:vertical}.sb-textarea-container{margin-bottom:10px;position:relative}.remaining-length{position:absolute;bottom:.5rem;right:1rem;font-size:10px;color:#999}::-webkit-input-placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}::-moz-placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}:-ms-input-placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}::-ms-input-placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}::placeholder{padding:.25rem;color:#999;font-family:\"Noto Sans\";font-size:14px;letter-spacing:0;line-height:20px}.cf-error{color:red;font-family:\"Noto Sans\";font-size:12px}"]
                }] }
    ];
    /** @nocollapse */
    DynamicTextareaComponent.ctorParameters = function () { return []; };
    DynamicTextareaComponent.propDecorators = {
        label: [{ type: Input }],
        placeholder: [{ type: Input }],
        formControlRef: [{ type: Input }],
        field: [{ type: Input }],
        validations: [{ type: Input }],
        default: [{ type: Input }],
        disabled: [{ type: Input }]
    };
    return DynamicTextareaComponent;
}());
export { DynamicTextareaComponent };
if (false) {
    /** @type {?} */
    DynamicTextareaComponent.prototype.label;
    /** @type {?} */
    DynamicTextareaComponent.prototype.placeholder;
    /** @type {?} */
    DynamicTextareaComponent.prototype.formControlRef;
    /** @type {?} */
    DynamicTextareaComponent.prototype.field;
    /** @type {?} */
    DynamicTextareaComponent.prototype.validations;
    /** @type {?} */
    DynamicTextareaComponent.prototype.default;
    /** @type {?} */
    DynamicTextareaComponent.prototype.disabled;
    /** @type {?} */
    DynamicTextareaComponent.prototype.remainderValidLength$;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy10ZXh0YXJlYS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9jb21tb24tZm9ybS1lbGVtZW50cy8iLCJzb3VyY2VzIjpbImxpYi9keW5hbWljLXRleHRhcmVhL2R5bmFtaWMtdGV4dGFyZWEuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxLQUFLLEVBQVMsTUFBTSxlQUFlLENBQUM7QUFDdkQsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBQzNDLE9BQU8sRUFBYyx5QkFBeUIsRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBRTdFLE9BQU8sRUFBQyxHQUFHLEVBQUUsU0FBUyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFFOUM7SUFpQkU7SUFDQSxDQUFDOzs7O0lBRUQsMkNBQVE7OztJQUFSOztZQUNRLG1CQUFtQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVztZQUNsRCxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJOzs7O1lBQUMsVUFBQyxVQUFVLElBQUssT0FBQSxVQUFVLENBQUMsSUFBSSxLQUFLLHlCQUF5QixDQUFDLFNBQVMsRUFBdkQsQ0FBdUQsRUFBQztRQUVwRyxJQUFJLG1CQUFtQixFQUFFO1lBQ3ZCLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQ2hFLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFDYixHQUFHOzs7O1lBQUMsVUFBQyxDQUFDLElBQUssT0FBQSxDQUFDLENBQUMsT0FBTyxtQkFBbUIsQ0FBQyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsTUFBTSxFQUFwRyxDQUFvRyxFQUFDLENBQ2pILENBQUM7U0FDSDtJQUNILENBQUM7O2dCQTlCRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLHFCQUFxQjtvQkFDL0IsbXhCQUFnRDs7aUJBRWpEOzs7Ozt3QkFHRSxLQUFLOzhCQUNMLEtBQUs7aUNBQ0wsS0FBSzt3QkFDTCxLQUFLOzhCQUNMLEtBQUs7MEJBQ0wsS0FBSzsyQkFDTCxLQUFLOztJQW1CUiwrQkFBQztDQUFBLEFBaENELElBZ0NDO1NBM0JZLHdCQUF3Qjs7O0lBRW5DLHlDQUF1Qjs7SUFDdkIsK0NBQTZCOztJQUM3QixrREFBcUM7O0lBQ3JDLHlDQUFvQzs7SUFDcEMsK0NBQTJCOztJQUMzQiwyQ0FBeUI7O0lBQ3pCLDRDQUEyQjs7SUFFM0IseURBQTJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnQsIElucHV0LCBPbkluaXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtGb3JtQ29udHJvbH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtGaWVsZENvbmZpZywgRmllbGRDb25maWdWYWxpZGF0aW9uVHlwZX0gZnJvbSAnLi4vY29tbW9uLWZvcm0tY29uZmlnJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge21hcCwgc3RhcnRXaXRofSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3NiLWR5bmFtaWMtdGV4dGFyZWEnLFxuICB0ZW1wbGF0ZVVybDogJy4vZHluYW1pYy10ZXh0YXJlYS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2R5bmFtaWMtdGV4dGFyZWEuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIER5bmFtaWNUZXh0YXJlYUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQElucHV0KCkgbGFiZWw6IFN0cmluZztcbiAgQElucHV0KCkgcGxhY2Vob2xkZXI6IFN0cmluZztcbiAgQElucHV0KCkgZm9ybUNvbnRyb2xSZWY6IEZvcm1Db250cm9sO1xuICBASW5wdXQoKSBmaWVsZDogRmllbGRDb25maWc8U3RyaW5nPjtcbiAgQElucHV0KCkgdmFsaWRhdGlvbnM/OiBhbnk7XG4gIEBJbnB1dCgpIGRlZmF1bHQ6IFN0cmluZztcbiAgQElucHV0KCkgZGlzYWJsZWQ6IEJvb2xlYW47XG5cbiAgcmVtYWluZGVyVmFsaWRMZW5ndGgkPzogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgY29uc3QgbWF4TGVuZ3RoVmFsaWRhdGlvbiA9IHRoaXMuZmllbGQudmFsaWRhdGlvbnMgJiZcbiAgICB0aGlzLmZpZWxkLnZhbGlkYXRpb25zLmZpbmQoKHZhbGlkYXRpb24pID0+IHZhbGlkYXRpb24udHlwZSA9PT0gRmllbGRDb25maWdWYWxpZGF0aW9uVHlwZS5NQVhMRU5HVEgpO1xuXG4gICAgaWYgKG1heExlbmd0aFZhbGlkYXRpb24pIHtcbiAgICAgIHRoaXMucmVtYWluZGVyVmFsaWRMZW5ndGgkID0gdGhpcy5mb3JtQ29udHJvbFJlZi52YWx1ZUNoYW5nZXMucGlwZShcbiAgICAgICAgc3RhcnRXaXRoKCcnKSxcbiAgICAgICAgbWFwKCh2KSA9PiAoKHR5cGVvZiBtYXhMZW5ndGhWYWxpZGF0aW9uLnZhbHVlID09PSAnbnVtYmVyJykgPyBtYXhMZW5ndGhWYWxpZGF0aW9uLnZhbHVlIDogMCkgLSAodiB8fCAnJykubGVuZ3RoKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxufVxuIl19