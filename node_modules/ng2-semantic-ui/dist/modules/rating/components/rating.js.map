{"version":3,"file":"rating.js","sourceRoot":"","sources":["../../../../src/modules/rating/components/rating.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,YAAY,EAAE,MAAM,eAAe,CAAC;AAC7G,OAAO,EAA4B,0BAA0B,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;;IAmDjH;4BAF6B,CAAC,CAAC;QAG3B,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,WAAW,GAAG,IAAI,YAAY,EAAU,CAAC;QAE9C,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAExB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;KAC9B;0BA3BU,8BAAO;;YACd,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;aAGzB,UAAmB,KAAY;YAC3B,IAAI,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC;SAC1B;;;;IAMD,sBAAW,4BAAK;aAAhB;;YAEI,MAAM,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAClC;;;OAAA;IAcM,2BAAO,GAAd,UAAe,CAAQ;QACnB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACrC;KACJ;IAEM,+BAAW,GAAlB,UAAmB,CAAQ;QACvB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;KACzB;IAGM,8BAAU;QACb,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;;IAGpB,8BAAU,GAAjB,UAAkB,KAAY;QAC1B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACtB;;gBA7EJ,SAAS,SAAC;oBACP,QAAQ,EAAE,YAAY;oBACtB,QAAQ,EAAE,uOAQb;oBACG,MAAM,EAAE,CAAC,kDAIZ,CAAC;iBACD;;;;;mCAEI,WAAW,SAAC,UAAU,cACtB,WAAW,SAAC,cAAc;gCAK1B,MAAM;4BAKN,KAAK;+BASL,WAAW,SAAC,iBAAiB,cAC7B,KAAK;+BA+BL,YAAY,SAAC,UAAU;;oBAzE5B;;SAoBa,SAAS;;IAoEsB,0CAAsC;IAC9E,gCAAY,IAAc;eACtB,kBAAM,IAAI,CAAC;KACd;;gBARJ,SAAS,SAAC;oBACP,QAAQ,EAAE,YAAY;oBACtB,IAAI,EAAE,EAAE,eAAe,EAAE,kBAAkB,EAAE;oBAC7C,SAAS,EAAE,CAAC,0BAA0B,CAAC,sBAAsB,CAAC,CAAC;iBAClE;;;;gBAnEY,SAAS;;iCApBtB;EAwF4C,mBAAmB;SAAlD,sBAAsB","sourcesContent":["import { Component, Directive, Input, Output, EventEmitter, HostBinding, HostListener } from \"@angular/core\";\nimport { ICustomValueAccessorHost, customValueAccessorFactory, CustomValueAccessor } from \"../../../misc/util/index\";\n\n@Component({\n    selector: \"sui-rating\",\n    template: `\n<i class=\"icon\"\n   *ngFor=\"let icon of icons; let i = index\"\n   (mouseover)=\"onMouseover(i)\"\n   (click)=\"onClick(i)\"\n   [class.selected]=\"hoveredIndex >= i && !isReadonly\"\n   [class.active]=\"value > i\">\n</i>\n`,\n    styles: [`\n:host.read-only .icon {\n    cursor: auto\n}\n`]\n})\nexport class SuiRating implements ICustomValueAccessorHost<number> {\n    @HostBinding(\"class.ui\")\n    @HostBinding(\"class.rating\")\n    private _ratingClasses:boolean;\n\n    public value:number;\n\n    @Output()\n    public valueChange:EventEmitter<number>;\n\n    private _maximum:number;\n\n    @Input()\n    public get maximum():number {\n        return this._maximum;\n    }\n\n    public set maximum(value:number) {\n        this._maximum = +value;\n    }\n\n    @HostBinding(\"class.read-only\")\n    @Input()\n    public isReadonly:boolean;\n\n    public get icons():undefined[] {\n        // tslint:disable-next-line:prefer-literal\n        return new Array(this.maximum);\n    }\n\n    public hoveredIndex:number = -1;\n\n    constructor() {\n        this.value = 0;\n        this.valueChange = new EventEmitter<number>();\n\n        this.maximum = 5;\n        this.isReadonly = false;\n\n        this._ratingClasses = true;\n    }\n\n    public onClick(i:number):void {\n        if (!this.isReadonly) {\n            this.value = i + 1;\n            this.valueChange.emit(this.value);\n        }\n    }\n\n    public onMouseover(i:number):void {\n        this.hoveredIndex = i;\n    }\n\n    @HostListener(\"mouseout\")\n    public onMouseout():void {\n        this.hoveredIndex = -1;\n    }\n\n    public writeValue(value:number):void {\n        this.value = value;\n    }\n}\n\n@Directive({\n    selector: \"sui-rating\",\n    host: { \"(valueChange)\": \"onChange($event)\" },\n    providers: [customValueAccessorFactory(SuiRatingValueAccessor)]\n})\nexport class SuiRatingValueAccessor extends CustomValueAccessor<number, SuiRating> {\n    constructor(host:SuiRating) {\n        super(host);\n    }\n}\n"]}