/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { TocCardType } from '../../card/models';
var TocChildItemComponent = /** @class */ (function () {
    function TocChildItemComponent() {
        this.activeMimeTypeFilter = ['all'];
        this.type = TocCardType.TEXTBOOK;
        this.contentStatus = [];
        this.disabled = '';
        this.scoreLabel = '';
        this.tocCardClick = new EventEmitter();
        this.playButtonClick = new EventEmitter();
    }
    /**
     * @return {?}
     */
    TocChildItemComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @param {?} activeMimeType
     * @param {?} mimeType
     * @param {?} content
     * @return {?}
     */
    TocChildItemComponent.prototype.hasMimeType = /**
     * @param {?} activeMimeType
     * @param {?} mimeType
     * @param {?} content
     * @return {?}
     */
    function (activeMimeType, mimeType, content) {
        if (!activeMimeType) {
            return true;
        }
        else {
            if (activeMimeType.indexOf('all') > -1) {
                // if (content.contentData.mimeType === MimeType.COLLECTION && !content.children) {
                //     return false;
                // }
                return true;
            }
            return !!activeMimeType.find((/**
             * @param {?} m
             * @return {?}
             */
            function (m) { return m === mimeType; }));
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    TocChildItemComponent.prototype.tocCardClickHandler = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.tocCardClick.emit(tslib_1.__assign({}, event));
    };
    /**
     * @param {?} tocData
     * @param {?} item
     * @return {?}
     */
    TocChildItemComponent.prototype.createUniqueId = /**
     * @param {?} tocData
     * @param {?} item
     * @return {?}
     */
    function (tocData, item) {
        item['sbUniqueIdentifier'] = tocData.identifier + '_' + item.identifier;
    };
    /**
     * @param {?} event
     * @return {?}
     */
    TocChildItemComponent.prototype.onPlayButtonClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.playButtonClick.emit(tslib_1.__assign({}, event));
    };
    TocChildItemComponent.decorators = [
        { type: Component, args: [{
                    selector: 'sb-toc-child-item',
                    template: "<ng-container *ngIf=\"childData | hasMimeType: activeMimeTypeFilter\">\r\n  <div *ngIf=\"childData?.mimeType === 'application/vnd.ekstep.content-collection' && childData?.children\">\r\n    <h4 class=\"sbchapter__title text-left sb__ellipsis sb__ellipsis--two ml-16 mb-8\" title=\"{{childData?.name}}\">{{childData?.name}}</h4>\r\n  </div>\r\n</ng-container>\r\n\r\n<ng-container *ngIf=\"childData?.mimeType !== 'application/vnd.ekstep.content-collection' && hasMimeType(activeMimeTypeFilter, childData?.mimeType, childData) ||\r\n  (childData?.contentData?.trackable?.enabled === 'Yes' || childData?.trackable?.enabled === 'Yes')\">\r\n  <sb-toc-card [content]=\"childData\" (tocCardClick)=\"tocCardClickHandler($event)\" [activeContent]=\"activeContent\"\r\n    [type]=\"type\" [contentStatus]=\"contentStatus\" [playBtnConfig]=\"playBtnConfig\" (playButtonClick)=\"onPlayButtonClick($event)\"\r\n    [platform]=\"platform\" [trackableDefaultImage]=\"trackableDefaultImage\" [maxAttempts]=\"maxAttempts\" [disabled]=\"disabled\" [scoreLabel]=\"scoreLabel\">\r\n  </sb-toc-card>\r\n</ng-container>\r\n\r\n<div *ngIf=\"childData?.children && !(childData?.contentData?.trackable?.enabled === 'Yes' || childData?.trackable?.enabled === 'Yes')\">\r\n  <div *ngFor=\"let child of childData?.children; let j = index;\" [id]=\"child.identifier\">\r\n    {{ createUniqueId(childData, child) }}\r\n    <sb-toc-child-item [childData]=\"child\" [activeContent]=\"activeContent\" (tocCardClick)=\"tocCardClickHandler($event)\"\r\n      [activeMimeTypeFilter]=\"activeMimeTypeFilter\" [type]=\"type\" [contentStatus]=\"contentStatus\" [playBtnConfig]=\"playBtnConfig\" \r\n      (playButtonClick)=\"onPlayButtonClick($event)\" [platform]=\"platform\" [trackableDefaultImage]=\"trackableDefaultImage\">\r\n    </sb-toc-child-item>\r\n  </div>\r\n</div>",
                    styles: [".sbchapter__title{font-size:.875rem;line-height:1.375rem}"]
                }] }
    ];
    /** @nocollapse */
    TocChildItemComponent.ctorParameters = function () { return []; };
    TocChildItemComponent.propDecorators = {
        childData: [{ type: Input }],
        activeContent: [{ type: Input }],
        activeMimeTypeFilter: [{ type: Input }],
        type: [{ type: Input }],
        contentStatus: [{ type: Input }],
        playBtnConfig: [{ type: Input }],
        platform: [{ type: Input }],
        trackableDefaultImage: [{ type: Input }],
        maxAttempts: [{ type: Input }],
        disabled: [{ type: Input }],
        scoreLabel: [{ type: Input }],
        tocCardClick: [{ type: Output }],
        playButtonClick: [{ type: Output }]
    };
    return TocChildItemComponent;
}());
export { TocChildItemComponent };
if (false) {
    /** @type {?} */
    TocChildItemComponent.prototype.childData;
    /** @type {?} */
    TocChildItemComponent.prototype.activeContent;
    /** @type {?} */
    TocChildItemComponent.prototype.activeMimeTypeFilter;
    /** @type {?} */
    TocChildItemComponent.prototype.type;
    /** @type {?} */
    TocChildItemComponent.prototype.contentStatus;
    /** @type {?} */
    TocChildItemComponent.prototype.playBtnConfig;
    /** @type {?} */
    TocChildItemComponent.prototype.platform;
    /** @type {?} */
    TocChildItemComponent.prototype.trackableDefaultImage;
    /** @type {?} */
    TocChildItemComponent.prototype.maxAttempts;
    /** @type {?} */
    TocChildItemComponent.prototype.disabled;
    /** @type {?} */
    TocChildItemComponent.prototype.scoreLabel;
    /** @type {?} */
    TocChildItemComponent.prototype.tocCardClick;
    /** @type {?} */
    TocChildItemComponent.prototype.playButtonClick;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9jLWNoaWxkLWl0ZW0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHByb2plY3Qtc3VuYmlyZC9jb21tb24tY29uc3VtcHRpb24tdjgvIiwic291cmNlcyI6WyJsaWIvY29udGVudC1kZXRhaWxzL3RvYy1jaGlsZC1pdGVtL3RvYy1jaGlsZC1pdGVtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDL0UsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWhEO0lBcUJFO1FBYlMseUJBQW9CLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvQixTQUFJLEdBQWdCLFdBQVcsQ0FBQyxRQUFRLENBQUM7UUFDekMsa0JBQWEsR0FBRyxFQUFFLENBQUM7UUFLbkIsYUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNkLGVBQVUsR0FBRyxFQUFFLENBQUM7UUFFZixpQkFBWSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3JELG9CQUFlLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7SUFFbEQsQ0FBQzs7OztJQUVqQix3Q0FBUTs7O0lBQVI7SUFDQSxDQUFDOzs7Ozs7O0lBRUQsMkNBQVc7Ozs7OztJQUFYLFVBQVksY0FBd0IsRUFBRSxRQUFnQixFQUFFLE9BQU87UUFDN0QsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUNuQixPQUFPLElBQUksQ0FBQztTQUNiO2FBQU07WUFDTCxJQUFJLGNBQWMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3RDLG1GQUFtRjtnQkFDbkYsb0JBQW9CO2dCQUNwQixJQUFJO2dCQUNKLE9BQU8sSUFBSSxDQUFDO2FBQ2I7WUFDRCxPQUFPLENBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSTs7OztZQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxLQUFLLFFBQVEsRUFBZCxDQUFjLEVBQUMsQ0FBQztTQUNuRDtJQUNILENBQUM7Ozs7O0lBRUQsbURBQW1COzs7O0lBQW5CLFVBQW9CLEtBQUs7UUFDdkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLHNCQUFNLEtBQUssRUFBRyxDQUFDO0lBQ3ZDLENBQUM7Ozs7OztJQUVELDhDQUFjOzs7OztJQUFkLFVBQWUsT0FBTyxFQUFFLElBQUk7UUFDMUIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsT0FBTyxDQUFDLFVBQVUsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMxRSxDQUFDOzs7OztJQUVELGlEQUFpQjs7OztJQUFqQixVQUFrQixLQUFLO1FBQ3JCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxzQkFBTSxLQUFLLEVBQUcsQ0FBQztJQUMxQyxDQUFDOztnQkFsREYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxtQkFBbUI7b0JBQzdCLDJ6REFBOEM7O2lCQUUvQzs7Ozs7NEJBRUUsS0FBSztnQ0FDTCxLQUFLO3VDQUNMLEtBQUs7dUJBQ0wsS0FBSztnQ0FDTCxLQUFLO2dDQUNMLEtBQUs7MkJBQ0wsS0FBSzt3Q0FDTCxLQUFLOzhCQUNMLEtBQUs7MkJBQ0wsS0FBSzs2QkFDTCxLQUFLOytCQUVMLE1BQU07a0NBQ04sTUFBTTs7SUFpQ1QsNEJBQUM7Q0FBQSxBQXBERCxJQW9EQztTQS9DWSxxQkFBcUI7OztJQUNoQywwQ0FBbUI7O0lBQ25CLDhDQUF1Qjs7SUFDdkIscURBQXdDOztJQUN4QyxxQ0FBa0Q7O0lBQ2xELDhDQUE0Qjs7SUFDNUIsOENBQXVCOztJQUN2Qix5Q0FBa0I7O0lBQ2xCLHNEQUErQjs7SUFDL0IsNENBQXFCOztJQUNyQix5Q0FBdUI7O0lBQ3ZCLDJDQUF5Qjs7SUFFekIsNkNBQStEOztJQUMvRCxnREFBa0UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRvY0NhcmRUeXBlIH0gZnJvbSAnLi4vLi4vY2FyZC9tb2RlbHMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdzYi10b2MtY2hpbGQtaXRlbScsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3RvYy1jaGlsZC1pdGVtLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi90b2MtY2hpbGQtaXRlbS5jb21wb25lbnQuc2NzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBUb2NDaGlsZEl0ZW1Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBJbnB1dCgpIGNoaWxkRGF0YTtcclxuICBASW5wdXQoKSBhY3RpdmVDb250ZW50O1xyXG4gIEBJbnB1dCgpIGFjdGl2ZU1pbWVUeXBlRmlsdGVyID0gWydhbGwnXTtcclxuICBASW5wdXQoKSB0eXBlOiBUb2NDYXJkVHlwZSA9IFRvY0NhcmRUeXBlLlRFWFRCT09LO1xyXG4gIEBJbnB1dCgpIGNvbnRlbnRTdGF0dXMgPSBbXTtcclxuICBASW5wdXQoKSBwbGF5QnRuQ29uZmlnO1xyXG4gIEBJbnB1dCgpIHBsYXRmb3JtO1xyXG4gIEBJbnB1dCgpIHRyYWNrYWJsZURlZmF1bHRJbWFnZTtcclxuICBASW5wdXQoKSBtYXhBdHRlbXB0cztcclxuICBASW5wdXQoKSBkaXNhYmxlZCA9ICcnO1xyXG4gIEBJbnB1dCgpIHNjb3JlTGFiZWwgPSAnJztcclxuXHJcbiAgQE91dHB1dCgpIHRvY0NhcmRDbGljazogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgQE91dHB1dCgpIHBsYXlCdXR0b25DbGljazogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gIH1cclxuXHJcbiAgaGFzTWltZVR5cGUoYWN0aXZlTWltZVR5cGU6IHN0cmluZ1tdLCBtaW1lVHlwZTogc3RyaW5nLCBjb250ZW50KTogYm9vbGVhbiB7XHJcbiAgICBpZiAoIWFjdGl2ZU1pbWVUeXBlKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGFjdGl2ZU1pbWVUeXBlLmluZGV4T2YoJ2FsbCcpID4gLTEpIHtcclxuICAgICAgICAvLyBpZiAoY29udGVudC5jb250ZW50RGF0YS5taW1lVHlwZSA9PT0gTWltZVR5cGUuQ09MTEVDVElPTiAmJiAhY29udGVudC5jaGlsZHJlbikge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAhIWFjdGl2ZU1pbWVUeXBlLmZpbmQobSA9PiBtID09PSBtaW1lVHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2NDYXJkQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XHJcbiAgICB0aGlzLnRvY0NhcmRDbGljay5lbWl0KHsgLi4uZXZlbnQgfSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVVbmlxdWVJZCh0b2NEYXRhLCBpdGVtKSB7XHJcbiAgICBpdGVtWydzYlVuaXF1ZUlkZW50aWZpZXInXSA9IHRvY0RhdGEuaWRlbnRpZmllciArICdfJyArIGl0ZW0uaWRlbnRpZmllcjtcclxuICB9XHJcblxyXG4gIG9uUGxheUJ1dHRvbkNsaWNrKGV2ZW50KSB7XHJcbiAgICB0aGlzLnBsYXlCdXR0b25DbGljay5lbWl0KHsgLi4uZXZlbnQgfSk7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=