/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ContentChildren, Input, Output, EventEmitter, QueryList } from '@angular/core';
import { PillBorder, PillShape, PillsViewType, SelectMode, PillsMultiRow, ShowMoreViewType } from '../models';
import { PillItemComponent } from '../pill-item/pill-item.component';
export class PillsGridComponent {
    constructor() {
        this.visiblePillItems = [];
        this.visiblePillTemplateRefs = [];
        this.pillShape = PillShape.DEFAULT;
        this.pillsViewType = PillsViewType.NONE;
        this.pillBorder = PillBorder.NONE;
        this.selectMode = SelectMode.SINGLE;
        this.pillsMultiRow = PillsMultiRow.DEFAULT;
        this.showMoreViewType = ShowMoreViewType.EXPAND;
        this.select = new EventEmitter();
        this.viewMorePillList = new EventEmitter();
    }
    /**
     * @return {?}
     */
    get PillShape() { return PillShape; }
    /**
     * @return {?}
     */
    get PillsViewType() { return PillsViewType; }
    /**
     * @return {?}
     */
    get PillBorder() { return PillBorder; }
    /**
     * @return {?}
     */
    get PillsMultiRow() { return PillsMultiRow; }
    /**
     * @return {?}
     */
    get ShowMoreViewType() { return ShowMoreViewType; }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.assignDefaultPillsConfig();
    }
    /**
     * @return {?}
     */
    assignDefaultPillsConfig() {
        this.pillShape = this.pillShape || PillShape.DEFAULT;
        this.pillsViewType = this.pillsViewType || PillsViewType.NONE;
        this.pillBorder = this.pillBorder || PillBorder.NONE;
        this.selectMode = this.selectMode || SelectMode.SINGLE;
        this.pillsMultiRow = this.pillsMultiRow || PillsMultiRow.DEFAULT;
        if (this.minDisplayCount !== null && this.minDisplayCount !== undefined) {
            this.viewMoreText = this.viewMoreText || 'View More';
            this.viewLessText = this.viewLessText || 'View Less';
            this.showMoreViewType = this.showMoreViewType || ShowMoreViewType.EXPAND;
        }
    }
    /**
     * @return {?}
     */
    ngAfterContentInit() {
        this.viewCount = (this.minDisplayCount) ? this.minDisplayCount : this.pillItems.length;
        this.visiblePillItems = this.pillItems.toArray().slice(0, this.viewCount);
        this.visiblePillTemplateRefs = this.visiblePillItems.map((/**
         * @param {?} p
         * @return {?}
         */
        p => p.template));
        /** @type {?} */
        const onSelect = (/**
         * @param {?} pill
         * @param {?} event
         * @return {?}
         */
        (pill, event) => {
            if (this.selectMode === SelectMode.SINGLE && pill.selected) {
                this.visiblePillItems.forEach((/**
                 * @param {?} e
                 * @return {?}
                 */
                e => {
                    if (e !== pill) {
                        e.selected = false;
                    }
                }));
                pill.selected = false;
                this.select.emit({ event, data: [{ name: pill.name, value: pill.value }] });
            }
            else {
                this.select.emit({
                    event,
                    data: this.visiblePillItems
                        .filter((/**
                     * @param {?} p
                     * @return {?}
                     */
                    p => p.selected))
                        .map((/**
                     * @param {?} p
                     * @return {?}
                     */
                    p => ({ name: p.name, value: p.value })))
                });
            }
        });
        this.visiblePillItems.forEach((/**
         * @param {?} e
         * @return {?}
         */
        e => e.onSelect = onSelect));
    }
    /**
     * @return {?}
     */
    viewMore() {
        this.viewCount = this.pillItems.length;
        this.visiblePillItems = this.pillItems.toArray().slice(0, this.viewCount);
        this.visiblePillTemplateRefs = this.visiblePillItems.map((/**
         * @param {?} p
         * @return {?}
         */
        p => p.template));
    }
    /**
     * @return {?}
     */
    viewLess() {
        this.viewCount = this.minDisplayCount;
        this.visiblePillItems = this.pillItems.toArray().slice(0, this.viewCount);
        this.visiblePillTemplateRefs = this.visiblePillItems.map((/**
         * @param {?} p
         * @return {?}
         */
        p => p.template));
    }
    /**
     * @param {?} event
     * @return {?}
     */
    viewMoreInNewScreen(event) {
        this.viewMorePillList.emit({ event, data: (this.pillItems && this.pillItems.toArray()) });
    }
}
PillsGridComponent.decorators = [
    { type: Component, args: [{
                selector: 'sb-pills-grid',
                template: "<div class=\"sb-label-grid show-icon\" [ngClass]=\"{\r\n  'sb-box-grid':((pillShape === PillShape.BOX)||(pillShape === PillShape.CIRCLE)||(pillShape === PillShape.IMAGE_OVERLAP)), \r\n  'sb-pills-grid':(pillShape === PillShape.DEFAULT), \r\n  'show-circle':(pillShape === PillShape.CIRCLE), \r\n  'icon-header':(pillShape === PillShape.IMAGE_OVERLAP),\r\n  'hscroll': (pillsViewType === PillsViewType.SCROLL), \r\n  'border-radius':(pillBorder === PillBorder.ROUNDED),\r\n  'two-rows-grid':(pillsMultiRow === PillsMultiRow.DOUBLE_VIEW_COLUMN) || (pillsMultiRow === PillsMultiRow.DOUBLE_VIEW_ROW) || (pillsMultiRow === PillsMultiRow.SINGLE),\r\n  'one-row-grid':(pillsMultiRow === PillsMultiRow.SINGLE),\r\n  'column-sequence':(pillsMultiRow === PillsMultiRow.DOUBLE_VIEW_COLUMN),\r\n  'row-sequence':(pillsMultiRow === PillsMultiRow.DOUBLE_VIEW_ROW)\r\n}\">\r\n  <ng-container *ngFor=\"let ref of visiblePillTemplateRefs\">\r\n    <ng-container *ngTemplateOutlet=\"ref\"></ng-container>\r\n  </ng-container>\r\n</div>\r\n\r\n<div class=\"sb-view-more-less pb-16\" *ngIf=\"minDisplayCount && (pillItems?.length > minDisplayCount)\">\r\n  <div *ngIf=\"showMoreViewType===ShowMoreViewType.EXPAND\">\r\n    <button class=\"sb-btn sb-btn-normal view-more\" *ngIf=\"viewCount < pillItems?.length\" (click)=\"viewMore()\">{{viewMoreText}}</button>\r\n    <button class=\"sb-btn sb-btn-normal view-less\" *ngIf=\"viewCount === pillItems?.length\"  (click)=\"viewLess()\">{{viewLessText}}</button>\r\n  </div>\r\n\r\n  <div *ngIf=\"showMoreViewType===ShowMoreViewType.NEW_SCREEN\">\r\n    <button class=\"sb-btn sb-btn-normal view-all\" (click)=\"viewMoreInNewScreen($event)\">{{viewMoreText}}</button>\r\n  </div>\r\n</div>\r\n",
                styles: [".sb-view-more-less{text-align:center}"]
            }] }
];
PillsGridComponent.propDecorators = {
    pillItems: [{ type: ContentChildren, args: [PillItemComponent,] }],
    pillShape: [{ type: Input }],
    pillsViewType: [{ type: Input }],
    pillBorder: [{ type: Input }],
    selectMode: [{ type: Input }],
    pillsMultiRow: [{ type: Input }],
    minDisplayCount: [{ type: Input }],
    viewMoreText: [{ type: Input }],
    viewLessText: [{ type: Input }],
    showMoreViewType: [{ type: Input }],
    select: [{ type: Output }],
    viewMorePillList: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    PillsGridComponent.prototype.pillItems;
    /** @type {?} */
    PillsGridComponent.prototype.visiblePillItems;
    /** @type {?} */
    PillsGridComponent.prototype.visiblePillTemplateRefs;
    /** @type {?} */
    PillsGridComponent.prototype.pillShape;
    /** @type {?} */
    PillsGridComponent.prototype.pillsViewType;
    /** @type {?} */
    PillsGridComponent.prototype.pillBorder;
    /** @type {?} */
    PillsGridComponent.prototype.selectMode;
    /** @type {?} */
    PillsGridComponent.prototype.pillsMultiRow;
    /** @type {?} */
    PillsGridComponent.prototype.minDisplayCount;
    /** @type {?} */
    PillsGridComponent.prototype.viewMoreText;
    /** @type {?} */
    PillsGridComponent.prototype.viewLessText;
    /** @type {?} */
    PillsGridComponent.prototype.showMoreViewType;
    /** @type {?} */
    PillsGridComponent.prototype.select;
    /** @type {?} */
    PillsGridComponent.prototype.viewMorePillList;
    /** @type {?} */
    PillsGridComponent.prototype.viewCount;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGlsbHMtZ3JpZC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcHJvamVjdC1zdW5iaXJkL2NvbW1vbi1jb25zdW1wdGlvbi12OC8iLCJzb3VyY2VzIjpbImxpYi9waWxscy1ncmlkL3BpbGxzLWdyaWQvcGlsbHMtZ3JpZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBb0IsU0FBUyxFQUFFLGVBQWUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQXVCLE1BQU0sZUFBZSxDQUFDO0FBQzFJLE9BQU8sRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzlHLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBUXJFLE1BQU0sT0FBTyxrQkFBa0I7SUFOL0I7UUFTSSxxQkFBZ0IsR0FBd0IsRUFBRSxDQUFDO1FBQzNDLDRCQUF1QixHQUF1QixFQUFFLENBQUM7UUFFeEMsY0FBUyxHQUFjLFNBQVMsQ0FBQyxPQUFPLENBQUM7UUFDekMsa0JBQWEsR0FBa0IsYUFBYSxDQUFDLElBQUksQ0FBQztRQUNsRCxlQUFVLEdBQWUsVUFBVSxDQUFDLElBQUksQ0FBQztRQUN6QyxlQUFVLEdBQWUsVUFBVSxDQUFDLE1BQU0sQ0FBQztRQUMzQyxrQkFBYSxHQUFrQixhQUFhLENBQUMsT0FBTyxDQUFDO1FBSXJELHFCQUFnQixHQUFxQixnQkFBZ0IsQ0FBQyxNQUFNLENBQUE7UUFFM0QsV0FBTSxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFDakMscUJBQWdCLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztJQW9FekQsQ0FBQzs7OztJQWpFRyxJQUFJLFNBQVMsS0FBSyxPQUFPLFNBQVMsQ0FBQyxDQUFDLENBQUM7Ozs7SUFDckMsSUFBSSxhQUFhLEtBQUssT0FB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SSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDOUYsQ0FBQzs7O1lBekZKLFNBQVMsU0FBQztnQkFDUCxRQUFRLEVBQUUsZUFBZTtnQkFDekIsbXNEQUEwQzs7YUFFN0M7Ozt3QkFJSSxlQUFlLFNBQUMsaUJBQWlCO3dCQUlqQyxLQUFLOzRCQUNMLEtBQUs7eUJBQ0wsS0FBSzt5QkFDTCxLQUFLOzRCQUNMLEtBQUs7OEJBQ0wsS0FBSzsyQkFDTCxLQUFLOzJCQUNMLEtBQUs7K0JBQ0wsS0FBSztxQkFFTCxNQUFNOytCQUNOLE1BQU07Ozs7SUFmUCx1Q0FBNEU7O0lBQzVFLDhDQUEyQzs7SUFDM0MscURBQWlEOztJQUVqRCx1Q0FBa0Q7O0lBQ2xELDJDQUEyRDs7SUFDM0Qsd0NBQWtEOztJQUNsRCx3Q0FBb0Q7O0lBQ3BELDJDQUE4RDs7SUFDOUQsNkNBQWlDOztJQUNqQywwQ0FBOEI7O0lBQzlCLDBDQUE4Qjs7SUFDOUIsOENBQXFFOztJQUVyRSxvQ0FBMkM7O0lBQzNDLDhDQUFxRDs7SUFDckQsdUNBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWZ0ZXJDb250ZW50SW5pdCwgQ29tcG9uZW50LCBDb250ZW50Q2hpbGRyZW4sIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgUXVlcnlMaXN0LCBUZW1wbGF0ZVJlZiwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFBpbGxCb3JkZXIsIFBpbGxTaGFwZSwgUGlsbHNWaWV3VHlwZSwgU2VsZWN0TW9kZSwgUGlsbHNNdWx0aVJvdywgU2hvd01vcmVWaWV3VHlwZSB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IFBpbGxJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi4vcGlsbC1pdGVtL3BpbGwtaXRlbS5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ3NiLXBpbGxzLWdyaWQnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL3BpbGxzLWdyaWQuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgc3R5bGVVcmxzOiBbJy4vcGlsbHMtZ3JpZC5jb21wb25lbnQuc2NzcyddXHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgUGlsbHNHcmlkQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdCwgT25Jbml0IHtcclxuXHJcbiAgICBAQ29udGVudENoaWxkcmVuKFBpbGxJdGVtQ29tcG9uZW50KSBwaWxsSXRlbXM6IFF1ZXJ5TGlzdDxQaWxsSXRlbUNvbXBvbmVudD47XHJcbiAgICB2aXNpYmxlUGlsbEl0ZW1zOiBQaWxsSXRlbUNvbXBvbmVudFtdID0gW107XHJcbiAgICB2aXNpYmxlUGlsbFRlbXBsYXRlUmVmczogVGVtcGxhdGVSZWY8YW55PltdID0gW107XHJcblxyXG4gICAgQElucHV0KCkgcGlsbFNoYXBlOiBQaWxsU2hhcGUgPSBQaWxsU2hhcGUuREVGQVVMVDtcclxuICAgIEBJbnB1dCgpIHBpbGxzVmlld1R5cGU6IFBpbGxzVmlld1R5cGUgPSBQaWxsc1ZpZXdUeXBlLk5PTkU7XHJcbiAgICBASW5wdXQoKSBwaWxsQm9yZGVyOiBQaWxsQm9yZGVyID0gUGlsbEJvcmRlci5OT05FO1xyXG4gICAgQElucHV0KCkgc2VsZWN0TW9kZTogU2VsZWN0TW9kZSA9IFNlbGVjdE1vZGUuU0lOR0xFO1xyXG4gICAgQElucHV0KCkgcGlsbHNNdWx0aVJvdzogUGlsbHNNdWx0aVJvdyA9IFBpbGxzTXVsdGlSb3cuREVGQVVMVDtcclxuICAgIEBJbnB1dCgpIG1pbkRpc3BsYXlDb3VudDogbnVtYmVyO1xyXG4gICAgQElucHV0KCkgdmlld01vcmVUZXh0OiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSB2aWV3TGVzc1RleHQ6IHN0cmluZztcclxuICAgIEBJbnB1dCgpIHNob3dNb3JlVmlld1R5cGU6IFNob3dNb3JlVmlld1R5cGUgPSBTaG93TW9yZVZpZXdUeXBlLkVYUEFORFxyXG5cclxuICAgIEBPdXRwdXQoKSBzZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICAgIEBPdXRwdXQoKSB2aWV3TW9yZVBpbGxMaXN0ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgICB2aWV3Q291bnQ6IG51bWJlcjtcclxuXHJcbiAgICBnZXQgUGlsbFNoYXBlKCkgeyByZXR1cm4gUGlsbFNoYXBlOyB9XHJcbiAgICBnZXQgUGlsbHNWaWV3VHlwZSgpIHsgcmV0dXJuIFBpbGxzVmlld1R5cGU7IH1cclxuICAgIGdldCBQaWxsQm9yZGVyKCkgeyByZXR1cm4gUGlsbEJvcmRlcjsgfVxyXG4gICAgZ2V0IFBpbGxzTXVsdGlSb3coKSB7IHJldHVybiBQaWxsc011bHRpUm93OyB9XHJcbiAgICBnZXQgU2hvd01vcmVWaWV3VHlwZSgpIHsgcmV0dXJuIFNob3dNb3JlVmlld1R5cGU7IH1cclxuXHJcbiAgICBuZ09uSW5pdCgpIHtcclxuICAgICAgICB0aGlzLmFzc2lnbkRlZmF1bHRQaWxsc0NvbmZpZygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzc2lnbkRlZmF1bHRQaWxsc0NvbmZpZygpIHtcclxuICAgICAgICB0aGlzLnBpbGxTaGFwZSA9IHRoaXMucGlsbFNoYXBlIHx8IFBpbGxTaGFwZS5ERUZBVUxUO1xyXG4gICAgICAgIHRoaXMucGlsbHNWaWV3VHlwZSA9IHRoaXMucGlsbHNWaWV3VHlwZSB8fCBQaWxsc1ZpZXdUeXBlLk5PTkU7XHJcbiAgICAgICAgdGhpcy5waWxsQm9yZGVyID0gdGhpcy5waWxsQm9yZGVyIHx8IFBpbGxCb3JkZXIuTk9ORTtcclxuICAgICAgICB0aGlzLnNlbGVjdE1vZGUgPSB0aGlzLnNlbGVjdE1vZGUgfHwgU2VsZWN0TW9kZS5TSU5HTEU7XHJcbiAgICAgICAgdGhpcy5waWxsc011bHRpUm93ID0gdGhpcy5waWxsc011bHRpUm93IHx8IFBpbGxzTXVsdGlSb3cuREVGQVVMVDtcclxuICAgICAgICBpZiAodGhpcy5taW5EaXNwbGF5Q291bnQgIT09IG51bGwgJiYgdGhpcy5taW5EaXNwbGF5Q291bnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdNb3JlVGV4dCA9IHRoaXMudmlld01vcmVUZXh0IHx8ICdWaWV3IE1vcmUnO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdMZXNzVGV4dCA9IHRoaXMudmlld0xlc3NUZXh0IHx8ICdWaWV3IExlc3MnO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dNb3JlVmlld1R5cGUgPSB0aGlzLnNob3dNb3JlVmlld1R5cGUgfHwgU2hvd01vcmVWaWV3VHlwZS5FWFBBTkQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcclxuICAgICAgICB0aGlzLnZpZXdDb3VudCA9ICh0aGlzLm1pbkRpc3BsYXlDb3VudCkgPyB0aGlzLm1pbkRpc3BsYXlDb3VudCA6IHRoaXMucGlsbEl0ZW1zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgdGhpcy52aXNpYmxlUGlsbEl0ZW1zID0gdGhpcy5waWxsSXRlbXMudG9BcnJheSgpLnNsaWNlKDAsIHRoaXMudmlld0NvdW50KTtcclxuICAgICAgICB0aGlzLnZpc2libGVQaWxsVGVtcGxhdGVSZWZzID0gdGhpcy52aXNpYmxlUGlsbEl0ZW1zLm1hcChwID0+IHAudGVtcGxhdGUpO1xyXG4gICAgICAgIGNvbnN0IG9uU2VsZWN0ID0gKHBpbGw6IFBpbGxJdGVtQ29tcG9uZW50LCBldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RNb2RlID09PSBTZWxlY3RNb2RlLlNJTkdMRSAmJiBwaWxsLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGVQaWxsSXRlbXMuZm9yRWFjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZSAhPT0gcGlsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBwaWxsLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KHtldmVudCwgZGF0YTogW3sgbmFtZTogcGlsbC5uYW1lLCB2YWx1ZTogcGlsbC52YWx1ZSB9XX0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3QuZW1pdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy52aXNpYmxlUGlsbEl0ZW1zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocCA9PiBwLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHAgPT4gKHsgbmFtZTogcC5uYW1lLCB2YWx1ZTogcC52YWx1ZSB9KSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnZpc2libGVQaWxsSXRlbXMuZm9yRWFjaChlID0+IGUub25TZWxlY3QgPSBvblNlbGVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmlld01vcmUoKSB7XHJcbiAgICAgICAgdGhpcy52aWV3Q291bnQgPSB0aGlzLnBpbGxJdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlUGlsbEl0ZW1zID0gdGhpcy5waWxsSXRlbXMudG9BcnJheSgpLnNsaWNlKDAsIHRoaXMudmlld0NvdW50KTtcclxuICAgICAgICB0aGlzLnZpc2libGVQaWxsVGVtcGxhdGVSZWZzID0gdGhpcy52aXNpYmxlUGlsbEl0ZW1zLm1hcChwID0+IHAudGVtcGxhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHZpZXdMZXNzKCkge1xyXG4gICAgICAgIHRoaXMudmlld0NvdW50ID0gdGhpcy5taW5EaXNwbGF5Q291bnQ7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlUGlsbEl0ZW1zID0gdGhpcy5waWxsSXRlbXMudG9BcnJheSgpLnNsaWNlKDAsIHRoaXMudmlld0NvdW50KTtcclxuICAgICAgICB0aGlzLnZpc2libGVQaWxsVGVtcGxhdGVSZWZzID0gdGhpcy52aXNpYmxlUGlsbEl0ZW1zLm1hcChwID0+IHAudGVtcGxhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHZpZXdNb3JlSW5OZXdTY3JlZW4oZXZlbnQpIHtcclxuICAgICAgICB0aGlzLnZpZXdNb3JlUGlsbExpc3QuZW1pdCh7IGV2ZW50LCBkYXRhOiAodGhpcy5waWxsSXRlbXMgJiYgdGhpcy5waWxsSXRlbXMudG9BcnJheSgpKSB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19